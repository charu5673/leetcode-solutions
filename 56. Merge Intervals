class Solution {
    public int[][] merge(int[][] intervals) {
        int s = -1;
        int e = -1;
        Arrays.sort(intervals, (a, b) -> Integer.compare(a[0], b[0]));
        List<int[]> l = new LinkedList<>();
        for(int i = 0; i < intervals.length; i++) {
            if(s == -1) {
                s = intervals[i][0];
                e = intervals[i][1];
                continue;
            }
            if(intervals[i][0] <= e) {
                e = Math.max(e, intervals[i][1]);
            }
            else {
                int[] a = new int[2];
                a[0] = s;
                a[1] = e;
                l.add(a);
                s = intervals[i][0];
                e = intervals[i][1];
            }
        }
        int[] a = new int[2];
        a[0] = s;
        a[1] = e;
        l.add(a);
        int[][] ans = new int[l.size()][2];
        l.toArray(ans);
        return ans;
    }
}
