class Solution {
    public int totalFruit(int[] fruits) {
        if(fruits.length == 1) return 1;
        int max = 0;
        int a = -1;
        int b = -1;
        int c = 0;
        int s = 1;
        for(int i = 0; i < fruits.length; i++) {
            int x = fruits[i];
            if(a == -1) {
                a = x;
            } else if(b == -1 && x != a) {
                b = x;
            }
            if(x != a && x != b) {
                if(c > max) max = c;
                c = s + 1;
                if(fruits[i - 1] == a) b = x;
                else a = x;
            }
            else c++;
            if(i != 0) {
                if(x == fruits[i - 1]) s++;
                else s = 1;
            }
        }
        if(c > max) max = c;
        return max;
    }
}
